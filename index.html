<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‰ 2026 YUJAY å°¾ç‰™å…©å¤©ä¸€å¤œ</title>
    <style>
        :root {
            /* --- ğŸ¨ 2026 å­£ç¯€é™å®šé…è‰² --- */
            --day1-color: #5286A8; /* å®‡å‚‘è— */
            --day1-bg: #F0F6FA;
            --day2-color: #E07A5F; /* æš–é™½æ©˜ */
            --day2-bg: #FFF5F2;

            /* ä»‹é¢åŸºåº• */
            --bg: #F8F9FA;
            --card: #FFFFFF;
            --text: #2C3E50;
            --subtext: #546E7A;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg);
            margin: 0;
            padding: 0;
            color: var(--text);
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 50px;
        }
        
        /* 1. å“ç‰Œéœæ…‹å€ (Brand Section) - æ»‘å‹•æ™‚æœƒæ¶ˆå¤± */
        .brand-section {
            background: white;
            text-align: center;
            padding: 20px 15px 10px;
        }
        
        /* Logo æ¨£å¼ */
        .logo-img {
            max-width: 160px;
            height: auto;
            margin-bottom: 8px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .brand-section h1 { 
            margin: 5px 0; 
            font-size: 1.1rem; 
            letter-spacing: 1px; 
            color: var(--day1-color); 
            font-weight: 600; 
        }
        .brand-section p { 
            margin: 5px 0 10px; 
            font-size: 0.85rem; 
            color: #999; 
        }

        /* 2. é»æ€§å‹•ä½œæ¢ (Sticky Action Bar) - æ»‘å‹•æ™‚å›ºå®šåœ¨é ‚éƒ¨ */
        .sticky-bar {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(255, 255, 255, 0.95); /* å¾®é€æ˜ç™½åº• */
            backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒç‰¹æ•ˆ */
            padding: 10px 15px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        /* Calendar Import Button (æ›´ç·Šæ¹Šçš„è¨­è¨ˆ) */
        .btn-calendar {
            background: var(--day1-color);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 2px 8px rgba(82, 134, 168, 0.25);
            transition: transform 0.2s;
            cursor: pointer;
            border: none;
            outline: none;
            font-weight: 500;
            width: auto; /* ä¸å¼·åˆ¶æ»¿ç‰ˆ */
        }
        .btn-calendar:active { transform: scale(0.96); }
        .btn-calendar svg { width: 16px; height: 16px; margin-right: 6px; fill: currentColor; }

        .warning-text {
            display: block;
            font-size: 0.7rem;
            color: #90A4AE;
            margin-top: 5px;
        }

        /* Tabs */
        .tabs-container {
            background: var(--bg);
            padding: 15px 15px 0;
            /* ç§»é™¤ stickyï¼Œé¿å…è·ŸæŒ‰éˆ•æ¢æ‰“æ¶ï¼Œæˆ–è€…è¨­å¾—æ¯”æŒ‰éˆ•æ¢æ›´ä½ */
            position: relative; 
            z-index: 90;
        }
        .tabs {
            background: white;
            border-radius: 50px;
            padding: 5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
            display: flex;
            max-width: 400px;
            margin: 0 auto;
        }
        .tab {
            flex: 1; text-align: center; padding: 10px; border-radius: 40px;
            font-weight: bold; color: #B0BEC5; cursor: pointer; transition: all 0.3s ease; font-size: 0.95rem;
        }
        .tab.active[data-day="1"] { 
            background: var(--day1-color); color: white; box-shadow: 0 4px 12px rgba(82, 134, 168, 0.3); 
        }
        .tab.active[data-day="2"] { 
            background: var(--day2-color); color: white; box-shadow: 0 4px 12px rgba(224, 122, 95, 0.3); 
        }

        /* Timeline */
        .container { padding: 20px; max-width: 600px; margin: 0 auto; }
        .timeline-item {
            background: var(--card); border-radius: 16px; padding: 20px; margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03); position: relative; border-left: 5px solid #ddd;
            display: none; opacity: 0; transform: translateY(15px); transition: opacity 0.4s, transform 0.4s;
        }
        .timeline-item.show { display: block; opacity: 1; transform: translateY(0); }

        /* Colors Logic */
        .day1 .timeline-item { border-left-color: var(--day1-color); }
        .day1 .time-badge { background: var(--day1-bg); color: var(--day1-color); }
        .day1 .btn-map { color: var(--day1-color); background: var(--day1-bg); }
        .day1 .btn-info { color: var(--day1-color); border: 1px solid var(--day1-color); opacity: 0.8; }

        .day2 .timeline-item { border-left-color: var(--day2-color); }
        .day2 .time-badge { background: var(--day2-bg); color: var(--day2-color); }
        .day2 .btn-map { color: var(--day2-color); background: var(--day2-bg); }
        .day2 .btn-info { color: var(--day2-color); border: 1px solid var(--day2-color); opacity: 0.8; }

        .time-badge { font-weight: 800; padding: 4px 12px; border-radius: 8px; font-size: 0.9rem; display: inline-block; margin-bottom: 10px; }
        .title { font-size: 1.1rem; font-weight: bold; margin-bottom: 6px; color: var(--text); }
        .desc { color: var(--subtext); font-size: 0.95rem; margin-bottom: 15px; line-height: 1.6; }

        /* Button Group */
        .btn-group { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 5px; }

        .btn-map { display: inline-flex; align-items: center; padding: 8px 14px; border-radius: 10px; text-decoration: none; font-size: 0.85rem; font-weight: 600; transition: opacity 0.2s; border: none; outline: none; }
        .btn-map:active { opacity: 0.7; }
        .btn-map svg { width: 16px; height: 16px; margin-right: 5px; fill: currentColor; }

        .btn-info {
            display: inline-flex; align-items: center; padding: 8px 14px; border-radius: 10px;
            font-size: 0.85rem; font-weight: 600; background: transparent;
            cursor: pointer; transition: background 0.2s;
        }
        .btn-info:active { background: rgba(0,0,0,0.05); }
        .btn-info svg { width: 16px; height: 16px; margin-right: 5px; fill: currentColor; }

        .footer { text-align: center; padding: 40px 20px; color: #CFD8DC; font-size: 0.8rem; line-height: 1.6; }
        .version { display: inline-block; margin-top: 8px; background: #ECEFF1; color: #90A4AE; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; }

        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(44, 62, 80, 0.4); z-index: 1000; display: none;
            justify-content: center; align-items: flex-end;
            opacity: 0; transition: opacity 0.3s;
            backdrop-filter: blur(4px);
        }
        .modal-overlay.active { display: flex; opacity: 1; }
        
        .modal-content {
            background: white; width: 100%; max-width: 500px;
            border-top-left-radius: 24px; border-top-right-radius: 24px;
            padding: 30px; box-shadow: 0 -10px 40px rgba(0,0,0,0.15);
            transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            max-height: 85vh; overflow-y: auto;
        }
        .modal-overlay.active .modal-content { transform: translateY(0); }
        
        @media (min-width: 600px) {
            .modal-overlay { align-items: center; }
            .modal-content { border-radius: 24px; transform: scale(0.95); box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
            .modal-overlay.active .modal-content { transform: scale(1); }
        }

        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 0; }
        .modal-title { font-size: 1.3rem; font-weight: 700; color: var(--text); }
        .modal-close { background: #F0F2F5; border: none; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #78909C; font-size: 1.2rem; transition: background 0.2s; }
        
        .modal-body { font-size: 0.95rem; line-height: 1.7; color: #455A64; }
        .modal-body p { margin-top: 0; margin-bottom: 1.2em; }
        .modal-tag { display: inline-block; background: var(--day1-bg); color: var(--day1-color); padding: 4px 10px; border-radius: 6px; font-size: 0.8rem; margin-bottom: 15px; font-weight: 600; letter-spacing: 0.5px; }

    </style>
</head>
<body>

    <!-- 1. å“ç‰Œéœæ…‹å€ (Brand Section) - æ»‘å‹•æ™‚æœƒæ¶ˆå¤± -->
    <div class="brand-section">
        <img src="./logo.png" alt="YUJAY Logo" class="logo-img" onerror="this.style.display='none'; document.querySelector('.brand-section h1').style.display='block'">
        <h1 style="display:none">å®‡å‚‘ç³»çµ±</h1>
        <p>Jan 31 - Feb 1ï½œç¦å®¹å¤§é£¯åº—èˆ‡æ·±æ¾³ä¹‹æ—…</p>
    </div>

    <!-- 2. é»æ€§å‹•ä½œæ¢ (Sticky Action Bar) - æ»‘å‹•æ™‚å›ºå®šåœ¨é ‚éƒ¨ï¼Œæ›´çª„æ›´ä¸ä½”ç©ºé–“ -->
    <div class="sticky-bar">
        <button class="btn-calendar" onclick="downloadICS()">
            <svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zm-7 5h5v5h-5z"/></svg>
            ä¸€éµåŒ¯å…¥è¡Œäº‹æ›†
        </button>
        <span class="warning-text">(ç„¡æ³•ä¸‹è¼‰æ™‚è«‹ä½¿ç”¨ Safari/Chrome)</span>
    </div>

    <div class="tabs-container">
        <div class="tabs">
            <div class="tab active" data-day="1" onclick="switchTab(1)">Day 1 (1/31)</div>
            <div class="tab" data-day="2" onclick="switchTab(2)">Day 2 (2/1)</div>
        </div>
    </div>

    <div class="container">
        <!-- Day 1 Items -->
        <div class="timeline-group day1">
            <div class="timeline-item show">
                <span class="time-badge">07:50</span>
                <div class="title">ğŸš© å®‡å‚‘ç³»çµ± æº–æ™‚é–‹è»Š</div>
                <div class="desc">æ—©å®‰ï¼è«‹æå‰é›†åˆï¼Œè»Šå­æº–æ™‚å‡ºç™¼ï¼Œé€¾æ™‚ä¸å€™ã€‚<br>ğŸ“ é›†åˆåœ°é»ï¼šç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=ç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        å°èˆª
                    </a>
                </div>
            </div>

            <div class="timeline-item show">
                <span class="time-badge">10:00</span>
                <div class="title">ğŸš´â€â™‚ï¸ æ·±æ¾³éµé“è‡ªè¡Œè»Š</div>
                <div class="desc">æ·±æ¾³ç«™ (10:30 æ¢¯æ¬¡) â†’ å…«æ–—å­ç«™ (11:01)ã€‚<br>ä¾†å ´æµ·æ™¯è‡ªè¡Œè»Šä¹‹æ—…ï¼</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=æ·±æ¾³éµé“è‡ªè¡Œè»Šæ·±æ¾³ç«™" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        å°èˆª
                    </a>
                    <button class="btn-info" onclick="openModal('railbike')">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        ä»‹ç´¹
                    </button>
                </div>
            </div>

            <div class="timeline-item show">
                <span class="time-badge">12:00</span>
                <div class="title">ğŸ± åˆé¤-å‹ä¿¡æµ·é®®é¤å»³</div>
                <div class="desc">äº«ç”¨ç¾å‘³æµ·é®®æ–™ç†ã€‚</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=å‹ä¿¡æµ·é®®é¤å»³" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        åœ°åœ–
                    </a>
                    <button class="btn-info" onclick="openModal('restaurant')">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        ä»‹ç´¹
                    </button>
                </div>
            </div>

            <div class="timeline-item show">
                <span class="time-badge">13:30</span>
                <div class="title">ğŸ˜ æ·±æ¾³å²¬è§’ è±¡é¼»å²©</div>
                <div class="desc">è‘—åçš„è±¡é¼»å²©æ™¯è§€èˆ‡ç•ªä»”æ¾³é…‹é•·å²©å…¬åœ’ (14:00)ã€‚</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=æ·±æ¾³å²¬è§’" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        åœ°åœ–
                    </a>
                    <button class="btn-info" onclick="openModal('cape')">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        ä»‹ç´¹
                    </button>
                </div>
            </div>

            <div class="timeline-item show">
                <span class="time-badge">15:00</span>
                <div class="title">ğŸ¨ ç¦å®¹å¤§é£¯åº— ç¦éš†</div>
                <div class="desc">Check-in å¾Œè‡ªç”±æ´»å‹•ï¼Œäº«å—æµ·æ´‹æº«æ³‰ï¼<br>ğŸ“ åœ°å€ï¼šæ–°åŒ—å¸‚è²¢å¯®å€ç¦éš†è¡—41è™Ÿ</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=ç¦å®¹å¤§é£¯åº—ç¦éš†" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        å°èˆª
                    </a>
                    <button class="btn-info" onclick="openModal('hotel')">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        ä»‹ç´¹
                    </button>
                </div>
            </div>

            <div class="timeline-item show">
                <span class="time-badge">18:30</span>
                <div class="title">ğŸ½ï¸ ğŸ‰ å°¾ç‰™æ™šå®´</div>
                <div class="desc">ç¦å®¹å¤§é£¯åº—å®´æœƒå»³ï¼Œæº–æ™‚é–‹å¸­ï¼</div>
            </div>
        </div>

        <!-- Day 2 Items -->
        <div class="timeline-group day2" style="display:none;">
            <div class="timeline-item">
                <span class="time-badge">11:00</span>
                <div class="title">ğŸ‘‹ é£¯åº— Check-out</div>
                <div class="desc">æ•´ç†è¡Œæï¼Œæº–å‚™é€€æˆ¿å‰å¾€åŸºéš†ã€‚</div>
            </div>
            <div class="timeline-item">
                <span class="time-badge">12:00</span>
                <div class="title">ğŸœ åŸºéš†å»Ÿå£å¤œå¸‚</div>
                <div class="desc">è‡ªç”±è¦“é£Ÿåˆé¤æ™‚é–“ã€‚</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=åŸºéš†å»Ÿå£å¤œå¸‚" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        å°èˆª
                    </a>
                    <button class="btn-info" onclick="openModal('nightmarket')">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        ä»‹ç´¹
                    </button>
                </div>
            </div>
            <div class="timeline-item">
                <span class="time-badge">16:00</span>
                <div class="title">ğŸšŒ æŠµé”å®‡å‚‘ç³»çµ±</div>
                <div class="desc">å¹³å®‰è¿”æŠµå…¬å¸ï¼Œç‚ºå…©å¤©ä¸€å¤œç•«ä¸‹å®Œç¾å¥é»ã€‚</div>
                <div class="btn-group">
                    <a href="https://www.google.com/maps/search/?api=1&query=ç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ" target="_blank" class="btn-map">
                        <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        å°èˆª
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œæ­¡è¿æ‰¾åè‚²è©¢å•<br>
        Built with â¤ï¸ for 2026 Weiya
        <div class="version">v2.1 Compact Mode</div>
    </div>

    <!-- Modal Popout -->
    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">æ¨™é¡Œ</div>
                <button class="modal-close" onclick="closeModal(null)">Ã—</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <script>
        // Insight Data
        const insights = {
            railbike: {
                title: "æ·±æ¾³éµé“è‡ªè¡Œè»Š",
                content: `
                    <span class="modal-tag">åŒ—æµ·å²¸æœ€ç¾æ”¯ç·š</span>
                    <p>åˆ©ç”¨èˆŠæ·±æ¾³ç·šéµé“æ”¹å»ºï¼Œæ˜¯å…¨å°å”¯ä¸€çš„æµ·æ™¯éµé“è‡ªè¡Œè»Šã€‚å¾æ·±æ¾³ç«™å‡ºç™¼ï¼Œæ²¿é€”å¯ä»¥åŒæ™‚é£½è¦½å±±æ™¯èˆ‡æµ·æ™¯ï¼Œé‚„æœƒç©¿éå¤¢å¹»çš„å…‰å½±éš§é“ï¼Œçµ‚é»å…«æ–—å­ç«™æ›´è¢«è­½ç‚ºã€ŒåŒ—å°ç£çš„å¤šè‰¯è»Šç«™ã€ã€‚</p>
                    <p>ğŸ’¡ <strong>å°æé†’ï¼š</strong>å…¨ç¨‹ç´„ 1.3 å…¬é‡Œï¼Œå–®ç¨‹ç´„ 15-20 åˆ†é˜ï¼Œè¼•é¬†å¥½é¨ï¼</p>
                `
            },
            restaurant: {
                title: "å‹ä¿¡æµ·é®®é¤å»³",
                content: `
                    <span class="modal-tag">æ·±æ¾³æ¼æ¸¯å£ç¢‘ååº—</span>
                    <p>ä½æ–¼æ·±æ¾³æ¼æ¸¯æ—ï¼Œä¸»æ‰“è‡ªå®¶æ¼èˆ¹æ•æ’ˆçš„ã€Œç¾æµã€æµ·é®®ã€‚é£Ÿææ–°é®®åº¦æ¥µé«˜ï¼Œåƒ¹æ ¼é€æ˜å…¬é“ã€‚</p>
                    <p>ğŸ¤ <strong>å¿…åƒæ¨è–¦ï¼š</strong>æ‹›ç‰Œå°å·ç±³ç²‰ã€å¢¨é­šé¦™è…¸ã€ç¾ç‡™é€æŠ½ã€‚æ˜¯è€é¥•å€‘ä¾†æ·±æ¾³å¿…è¨ªçš„é¤å»³ï¼</p>
                `
            },
            cape: {
                title: "æ·±æ¾³å²¬è§’ (è±¡é¼»å²©/é…‹é•·å²©)",
                content: `
                    <span class="modal-tag">åœ‹éš›ç´šåœ°è³ªæ™¯è§€</span>
                    <p>é€™è£¡æ“æœ‰ç‰¹æ®Šçš„è•ˆç‹€å²©åœ°è³ªæ™¯è§€ã€‚é›–ç„¶è±¡é¼»å²©çš„é¼»å¹¹å·²æ–·ï¼Œä½†å£¯é—Šçš„æµ·è•æ‹±é–€èˆ‡æµ·å²¸ç·šä¾ç„¶è¿·äººã€‚</p>
                    <p>ğŸ—¿ <strong>çœ‹é»ï¼š</strong>é™¤äº†è±¡é¼»å²©éºå€ï¼Œé„°è¿‘çš„ã€Œé…‹é•·å²©ã€å´é¢é…·ä¼¼å°åœ°å®‰äººé…‹é•·ï¼Œæ˜¯å¦ä¸€å€‹å¿…æ‹äº®é»ã€‚èµ°åœ¨å¥‡å²©æ€ªçŸ³é–“è½æµ·æµªè²ï¼Œéå¸¸ç™‚ç™’ã€‚</p>
                `
            },
            hotel: {
                title: "ç¦å®¹å¤§é£¯åº— ç¦éš†",
                content: `
                    <span class="modal-tag">å…¨å°å”¯ä¸€æµ·æ´‹æº«æ³‰</span>
                    <p>é£¯åº—å…§çš„ã€Œç¦éš†æµ·æ´‹æº«æ³‰ã€å–è‡ªåœ°ä¸‹1500å…¬å°ºï¼Œå±¬æ–¼ç¨€æœ‰çš„æ°¯åŒ–ç‰©ç¢³é…¸æ°«é¹½æ³‰ï¼Œæ³¡å®Œçš®è†šæœƒæ»‘æ»‘çš„å–”ï¼</p>
                    <p>ğŸ–ï¸ <strong>è¨­æ–½ï¼š</strong>é£¯åº—ç›´é€šç¦éš†æµ·æ°´æµ´å ´ï¼Œå¯ä»¥å»æ²™ç˜æ•£æ­¥ï¼Œæˆ–æ˜¯äº«å—é£¯åº—å…§çš„Villaåº¦å‡æ°›åœã€‚</p>
                `
            },
            nightmarket: {
                title: "åŸºéš†å»Ÿå£å¤œå¸‚",
                content: `
                    <span class="modal-tag">å°ç£æŒ‡æ¨™æ€§å¤œå¸‚</span>
                    <p>ä½æ–¼å¥ æ¿Ÿå®®å‘¨é‚Šï¼ŒçŸ­çŸ­å¹¾ç™¾å…¬å°ºèšé›†äº†æ•¸ç™¾æ”¤å…¨å°çŸ¥åçš„ç¾é£Ÿï¼Œå¹¾ä¹ç„¡é›·ï¼</p>
                    <p>ğŸœ <strong>å¿…åƒæ¸…å–®ï¼š</strong>ç‡Ÿé¤Šä¸‰æ˜æ²»ã€å¤©å©¦ç¾…ã€é¼é‚Šè¶–ã€æ³¡æ³¡å†°ã€èƒèŸ¹ç¾¹ã€ä¸€å£åƒé¦™è…¸ã€‚å»ºè­°å¤§å®¶åˆ†é£Ÿï¼Œæ‰èƒ½åƒæ›´å¤šæ”¤å–”ï¼</p>
                `
            }
        };

        function openModal(id) {
            const data = insights[id];
            if (data) {
                document.getElementById('modalTitle').innerText = data.title;
                document.getElementById('modalBody').innerHTML = data.content;
                document.getElementById('infoModal').classList.add('active');
                // Prevent body scrolling
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(event) {
            // Close if clicked on overlay (background) or close button
            if (!event || event.target.classList.contains('modal-overlay') || event.target.classList.contains('modal-close')) {
                document.getElementById('infoModal').classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        function switchTab(day) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`.tab[data-day="${day}"]`).classList.add('active');
            
            const allGroups = document.querySelectorAll('.timeline-group');
            allGroups.forEach(g => {
                g.style.display = 'none';
                g.querySelectorAll('.timeline-item').forEach(item => { item.classList.remove('show'); });
            });
            
            const targetGroup = document.querySelector('.day' + day);
            targetGroup.style.display = 'block';
            
            const items = targetGroup.querySelectorAll('.timeline-item');
            items.forEach((item, index) => {
                void item.offsetWidth;
                setTimeout(() => { item.classList.add('show'); }, index * 50); 
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function downloadICS() {
            const events = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gemini//YUJAY Weiya App//ZH
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
SUMMARY:ğŸš© å®‡å‚‘ç³»çµ±é›†åˆ (07:50 æº–æ™‚ç™¼è»Š)
DTSTART;TZID=Asia/Taipei:20260131T075000
DTEND;TZID=Asia/Taipei:20260131T080000
DESCRIPTION:æ—©å®‰ï¼è«‹æå‰é›†åˆï¼Œè»Šå­æº–æ™‚å‡ºç™¼ã€‚\nğŸ“ é›†åˆåœ°é»ï¼šç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ
LOCATION:ç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸš´â€â™‚ï¸ æ·±æ¾³éµé“è‡ªè¡Œè»Š (10:30 æ¢¯æ¬¡)
DTSTART;TZID=Asia/Taipei:20260131T100000
DTEND;TZID=Asia/Taipei:20260131T113000
DESCRIPTION:æ·±æ¾³ç«™ (10:30) -> å…«æ–—å­ç«™ (11:01)ã€‚\nè«‹ææ—©å ±åˆ°å–ç¥¨ã€‚
LOCATION:æ·±æ¾³éµé“è‡ªè¡Œè»Šæ·±æ¾³ç«™
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸ± åˆé¤-å‹ä¿¡æµ·é®®é¤å»³
DTSTART;TZID=Asia/Taipei:20260131T120000
DTEND;TZID=Asia/Taipei:20260131T133000
DESCRIPTION:äº«ç”¨æµ·é®®å¤§é¤ã€‚
LOCATION:å‹ä¿¡æµ·é®®é¤å»³
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸ˜ æ·±æ¾³å²¬è§’ è±¡é¼»å²© & é…‹é•·å²©
DTSTART;TZID=Asia/Taipei:20260131T133000
DTEND;TZID=Asia/Taipei:20260131T150000
DESCRIPTION:13:30 è±¡é¼»å²© -> 14:00 ç•ªä»”æ¾³é…‹é•·å²©å…¬åœ’ã€‚
LOCATION:æ·±æ¾³å²¬è§’
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸ¨ ç¦å®¹å¤§é£¯åº— ç¦éš† CHECK IN
DTSTART;TZID=Asia/Taipei:20260131T150000
DTEND;TZID=Asia/Taipei:20260131T180000
DESCRIPTION:Check-in å¾Œè‡ªç”±æ´»å‹•ï¼Œäº«å—æµ·æ´‹æº«æ³‰ã€‚
LOCATION:ç¦å®¹å¤§é£¯åº— ç¦éš†
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸ½ï¸ å°¾ç‰™æ™šå®´ (PM 18:30)
DTSTART;TZID=Asia/Taipei:20260131T183000
DTEND;TZID=Asia/Taipei:20260131T210000
DESCRIPTION:æº–æ™‚é–‹å¸­ï¼Œè«‹å‹¿é²åˆ°ã€‚
LOCATION:ç¦å®¹å¤§é£¯åº— ç¦éš†
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸ‘‹ é£¯åº— CHECK OUT
DTSTART;TZID=Asia/Taipei:20260201T110000
DTEND;TZID=Asia/Taipei:20260201T113000
DESCRIPTION:11:00 é€€æˆ¿ã€‚
LOCATION:ç¦å®¹å¤§é£¯åº— ç¦éš†
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸœ åŸºéš†å»Ÿå£å¤œå¸‚
DTSTART;TZID=Asia/Taipei:20260201T120000
DTEND;TZID=Asia/Taipei:20260201T140000
DESCRIPTION:åˆé¤è‡ªç”±è¦“é£Ÿã€‚
LOCATION:åŸºéš†å»Ÿå£å¤œå¸‚
END:VEVENT
BEGIN:VEVENT
SUMMARY:ğŸšŒ è¿”æŠµå®‡å‚‘ç³»çµ±
DTSTART;TZID=Asia/Taipei:20260201T160000
DTEND;TZID=Asia/Taipei:20260201T161000
DESCRIPTION:å¹³å®‰å›å®¶ã€‚
LOCATION:ç«¹åŒ—å¸‚æ–°å·¥å…­è·¯9è™Ÿ
END:VEVENT
END:VCALENDAR`;

            const blob = new Blob([events], { type: 'text/calendar;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.setAttribute('download', 'YUJAY_Weiya2026.ics');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
